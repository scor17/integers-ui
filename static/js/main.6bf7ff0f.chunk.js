(this["webpackJsonpintegers-ui"]=this["webpackJsonpintegers-ui"]||[]).push([[0],{145:function(e,n,t){"use strict";t.r(n);var r=t(4),a=t(0),c=t.n(a),i=t(18),s=t.n(i),o=(t(63),t(13)),u=t.n(o),d=t(22),l=t(14),b=(t(65),t(17)),j={pending:!1,success:!1,failed:!1,isSignedIn:!1},p={AUTH_REQUEST:function(e){return Object(b.a)(Object(b.a)({},e),{},{pending:!0,success:!1,failed:!1})},AUTH_SUCCESS:function(e){return Object(b.a)(Object(b.a)({},e),{},{pending:!1,success:!0,isSignedIn:!0})},AUTH_FAIL:function(e){return Object(b.a)(Object(b.a)({},e),{},{pending:!1,failed:!0})}},h=function(e,n){return p[n](e)||e},g=t(161),O=t(163),f=t(168),S=t(169),m=t(167),v=t(164),x=t(166),w=t(165),U=t(50),k=t.n(U),C=function(e){var n=e.title,t=e.onSubmit,c=e.isPending,i=e.children,s=e.hasError,o=E(),u=Object(a.useState)(""),d=Object(l.a)(u,2),b=d[0],j=d[1],p=Object(a.useState)(!0),h=Object(l.a)(p,2),w=h[0],U=h[1],C=Object(a.useState)(""),T=Object(l.a)(C,2),I=T[0],y=T[1],P=Object(a.useState)(!0),A=Object(l.a)(P,2),N=A[0],F=A[1],H=Object(a.useCallback)((function(e,n){var t=!0;return k.a.isEmail(e)?U(!0):(U(!1),t=!1),n.length<3?(F(!1),t=!1):F(!0),t}),[U,F]),R=Object(a.useCallback)((function(e){e.preventDefault(),H(b,I)&&t(b,I)}),[b,I,t,H]);return Object(r.jsx)("form",{className:o.form,onSubmit:R,children:Object(r.jsxs)(g.a,{children:[Object(r.jsx)(O.a,{variant:"h4",className:o.heading,children:n}),s&&Object(r.jsx)(O.a,{className:o.error,children:"Failed to ".concat(n.toLowerCase(),".")}),Object(r.jsxs)(f.a,{className:o.control,error:!w,children:[Object(r.jsx)(S.a,{htmlFor:"email-input",children:"Email address"}),Object(r.jsx)(m.a,{id:"email-input","aria-describedby":"email-validation",onChange:function(e){return j(e.target.value)}}),!w&&Object(r.jsx)(v.a,{id:"email-validation",children:"Please enter a valid email."})]}),Object(r.jsxs)(f.a,{className:o.control,error:!N,children:[Object(r.jsx)(S.a,{htmlFor:"password-input",children:"Password"}),Object(r.jsx)(m.a,{id:"password-input","aria-describedby":"password-validation",onChange:function(e){return y(e.target.value)}}),!N&&Object(r.jsx)(v.a,{id:"password-validation",children:"Password must be at least 3 characters."})]}),Object(r.jsx)(x.a,{className:o.button,type:"submit",disabled:c,children:"Submit"}),i]})})},E=Object(w.a)({form:{width:400,backgroundColor:"#d3d3d3",borderRadius:30,padding:30},heading:{color:"black"},control:{paddingBottom:20},button:{backgroundColor:"#3b5998",color:"white","&:hover":{backgroundColor:"#3b5998"},marginBottom:30},error:{color:"red"}}),T=function(e){var n=e.onSignUp,t=e.navToSignIn,a=e.isSignUpPending,c=e.hasError,i=I();return Object(r.jsx)(C,{title:"Sign Up",onSubmit:n,isPending:a,hasError:c,children:Object(r.jsx)(x.a,{className:i.navButton,onClick:t,children:"Sign In"})})},I=Object(w.a)({navButton:{backgroundColor:"#2f2f2f",color:"white"}}),y=function(e){var n=e.onSignIn,t=e.navToSignUp,a=e.isSignInPending,c=e.hasError,i=P();return Object(r.jsx)(C,{title:"Sign In",onSubmit:n,isPending:a,hasError:c,children:Object(r.jsx)(x.a,{className:i.navButton,onClick:t,children:"Sign Up"})})},P=Object(w.a)({navButton:{backgroundColor:"#2f2f2f",color:"white"}}),A=function(e){var n=e.onSignIn,t=e.onSignUp,c=e.isRequestPending,i=e.isRequestFailed,s=Object(a.useState)(!0),o=Object(l.a)(s,2),u=o[0],d=o[1];return Object(r.jsxs)(r.Fragment,{children:[u&&Object(r.jsx)(T,{onSignUp:t,isSignUpPending:c,hasError:i,navToSignIn:function(){return d(!1)}}),!u&&Object(r.jsx)(y,{onSignIn:n,isSignInPending:c,hasError:i,navToSignUp:function(){return d(!0)}})]})},N=function(){return Object(r.jsx)("div",{})},F=function(){var e=Object(d.a)(u.a.mark((function e(n,t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://integers-as-a-service.herokuapp.com/v1","/accounts"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:t})});case 2:if(201===(r=e.sent).status){e.next=5;break}throw new Error;case 5:return e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),H=function(){var e=Object(d.a)(u.a.mark((function e(n,t){var r,a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://integers-as-a-service.herokuapp.com/v1","/auth"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:t})});case 2:if(201===(r=e.sent).status){e.next=7;break}throw(a=new Error).status=r.status,a;case 7:return e.next=9,r.json();case 9:return c=e.sent,e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=function(){var e=Object(a.useReducer)(h,j),n=Object(l.a)(e,2),t=n[0],c=n[1],i=Object(a.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("AUTH_REQUEST"),e.prev=1,e.next=4,F(n,t);case 4:c("AUTH_SUCCESS"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("AUTH_FAIL");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t){return e.apply(this,arguments)}}(),[c]),s=Object(a.useCallback)(function(){var e=Object(d.a)(u.a.mark((function e(n,t){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c("AUTH_REQUEST"),e.prev=1,e.next=4,H(n,t);case 4:c("AUTH_SUCCESS"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),c("AUTH_FAIL");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(n,t){return e.apply(this,arguments)}}(),[c]),o=t.isSignedIn,b=t.pending,p=t.failed;return Object(r.jsxs)("div",{className:"App-body",children:[Object(r.jsx)("p",{children:"Let's generate some integers!"}),!o&&Object(r.jsx)(A,{onSignUp:i,onSignIn:s,isRequestFailed:p,isRequestPending:b}),o&&Object(r.jsx)(N,{})]})};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(R,{})}),document.getElementById("root"))},63:function(e,n,t){},65:function(e,n,t){}},[[145,1,2]]]);
//# sourceMappingURL=main.6bf7ff0f.chunk.js.map