{"version":3,"sources":["Reducers/authReducer.js","Components/Authenticate/AuthForm.js","Components/Authenticate/SignUp.js","Components/Authenticate/SignIn.js","Components/Authenticate/index.js","Components/IntegersManager.js","services.js","App.js","index.js"],"names":["INITIAL_STATE","pending","success","failed","isSignedIn","reducer","AUTH_REQUEST","state","AUTH_SUCCESS","AUTH_FAIL","authReducer","action","Authenticate","title","onSubmit","isPending","children","hasError","classes","useStyles","useState","email","setEmail","isEmailValid","setIsEmailValid","password","setPassword","isPasswordValid","setIsPasswordValid","isValid","useCallback","validator","isEmail","length","handleSubmit","e","preventDefault","className","form","FormGroup","Typography","variant","heading","error","toLowerCase","FormControl","control","InputLabel","htmlFor","Input","id","aria-describedby","onChange","target","value","FormHelperText","Button","button","type","disabled","makeStyles","width","backgroundColor","borderRadius","padding","color","paddingBottom","marginBottom","SignUp","onSignUp","navToSignIn","isSignUpPending","AuthForm","navButton","onClick","SignIn","onSignIn","navToSignUp","isSignInPending","isRequestPending","isRequestFailed","isSignUp","setIsSignUp","IntegersManager","signUp","a","fetch","process","method","headers","body","JSON","stringify","res","status","Error","json","data","signIn","App","useReducer","AUTH_INITIAL","authState","authDispatch","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6bf7ff0f.chunk.js","sourcesContent":["export const INITIAL_STATE = {\r\n  pending: false,\r\n  success: false,\r\n  failed: false,\r\n  isSignedIn: false\r\n};\r\n\r\nconst reducer = {\r\n  AUTH_REQUEST: (state) => ({\r\n    ...state,\r\n    pending: true,\r\n    success: false,\r\n    failed: false\r\n  }),\r\n  AUTH_SUCCESS: (state) => ({\r\n    ...state,\r\n    pending: false,\r\n    success: true,\r\n    isSignedIn: true\r\n  }),\r\n  AUTH_FAIL: (state) => ({\r\n    ...state,\r\n    pending: false,\r\n    failed: true\r\n  })\r\n};\r\n\r\nexport const authReducer = (state, action) => {\r\n  return reducer[action](state) || state;\r\n};\r\n","import React, { useCallback, useState } from 'react';\r\nimport { FormGroup, FormControl, InputLabel, Input, Button, Typography, FormHelperText } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport validator from 'validator';\r\n\r\nconst Authenticate = ({ title, onSubmit, isPending, children, hasError }) => {\r\n  const classes = useStyles();\r\n\r\n  const [email, setEmail] = useState('');\r\n  const [isEmailValid, setIsEmailValid] = useState(true);\r\n  const [password, setPassword] = useState('');\r\n  const [isPasswordValid, setIsPasswordValid] = useState(true);\r\n\r\n  const isValid = useCallback((email, password) => {\r\n    let isValid = true;\r\n    if (!validator.isEmail(email)) {\r\n      setIsEmailValid(false);\r\n      isValid = false;\r\n    } else {\r\n      setIsEmailValid(true);\r\n    }\r\n\r\n    if (password.length < 3) {\r\n      setIsPasswordValid(false);\r\n      isValid = false;\r\n    } else {\r\n      setIsPasswordValid(true);\r\n    }\r\n    return isValid;\r\n  }, [setIsEmailValid, setIsPasswordValid]);\r\n\r\n  const handleSubmit = useCallback((e) => {\r\n    e.preventDefault();\r\n    if (isValid(email, password)) {\r\n      onSubmit(email, password);\r\n    }\r\n  }, [email, password, onSubmit, isValid]);\r\n\r\n  return (\r\n    <form className={classes.form} onSubmit={handleSubmit}>\r\n      <FormGroup>\r\n        <Typography variant='h4' className={classes.heading}>{title}</Typography>\r\n        {hasError && <Typography className={classes.error}>{`Failed to ${title.toLowerCase()}.`}</Typography>}\r\n        <FormControl className={classes.control} error={!isEmailValid}>\r\n          <InputLabel htmlFor='email-input'>Email address</InputLabel>\r\n          <Input id='email-input' aria-describedby='email-validation' onChange={(e) => setEmail(e.target.value)} />\r\n          {!isEmailValid && <FormHelperText id='email-validation'>Please enter a valid email.</FormHelperText>}\r\n        </FormControl>\r\n        <FormControl className={classes.control} error={!isPasswordValid}>\r\n          <InputLabel htmlFor='password-input'>Password</InputLabel>\r\n          <Input id='password-input' aria-describedby='password-validation' onChange={(e) => setPassword(e.target.value)} />\r\n          {!isPasswordValid && <FormHelperText id='password-validation'>Password must be at least 3 characters.</FormHelperText>}\r\n        </FormControl>\r\n        <Button className={classes.button} type='submit' disabled={isPending}>Submit</Button>\r\n        {children}\r\n      </FormGroup>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Authenticate;\r\n\r\nconst useStyles = makeStyles({\r\n  form: {\r\n    width: 400,\r\n    backgroundColor: '#d3d3d3',\r\n    borderRadius: 30,\r\n    padding: 30\r\n  },\r\n  heading: {\r\n    color: 'black'\r\n  },\r\n  control: {\r\n    paddingBottom: 20\r\n  },\r\n  button: {\r\n    backgroundColor: '#3b5998',\r\n    color: 'white',\r\n    '&:hover': {\r\n      backgroundColor: '#3b5998'\r\n    },\r\n    marginBottom: 30\r\n  },\r\n  error: {\r\n    color: 'red'\r\n  }\r\n});\r\n","import AuthForm from './AuthForm';\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst SignUp = ({ onSignUp, navToSignIn, isSignUpPending, hasError }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AuthForm title='Sign Up' onSubmit={onSignUp} isPending={isSignUpPending} hasError={hasError}>\r\n      <Button className={classes.navButton} onClick={navToSignIn}>Sign In</Button>\r\n    </AuthForm>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n\r\nconst useStyles = makeStyles({\r\n  navButton: {\r\n    backgroundColor: '#2f2f2f',\r\n    color: 'white'\r\n  }\r\n});\r\n","import AuthForm from './AuthForm';\r\nimport { Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nconst SignIn = ({ onSignIn, navToSignUp, isSignInPending, hasError }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <AuthForm title='Sign In' onSubmit={onSignIn} isPending={isSignInPending} hasError={hasError}>\r\n      <Button className={classes.navButton} onClick={navToSignUp}>Sign Up</Button>\r\n    </AuthForm>\r\n  );\r\n};\r\n\r\nexport default SignIn;\r\n\r\nconst useStyles = makeStyles({\r\n  navButton: {\r\n    backgroundColor: '#2f2f2f',\r\n    color: 'white'\r\n  }\r\n});\r\n","import React, { useState } from 'react';\r\nimport SignUp from './SignUp';\r\nimport SignIn from './SignIn';\r\n\r\nconst Authenticate = ({ onSignIn, onSignUp, isRequestPending, isRequestFailed }) => {\r\n  const [isSignUp, setIsSignUp] = useState(true);\r\n\r\n  return (\r\n    <>\r\n      {isSignUp && (\r\n        <SignUp\r\n          onSignUp={onSignUp}\r\n          isSignUpPending={isRequestPending}\r\n          hasError={isRequestFailed}\r\n          navToSignIn={() => setIsSignUp(false)}\r\n        />\r\n      )}\r\n      {!isSignUp && (\r\n        <SignIn\r\n          onSignIn={onSignIn}\r\n          isSignInPending={isRequestPending}\r\n          hasError={isRequestFailed}\r\n          navToSignUp={() => setIsSignUp(true)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Authenticate;\r\n","const IntegersManager = () => {\r\n  return <div />;\r\n};\r\n\r\nexport default IntegersManager;\r\n","const getBasePath = () => {\r\n  return process.env.REACT_APP_API_BASE_URL;\r\n};\r\n\r\nexport const signUp = async (email, password) => {\r\n  const res = await fetch(`${getBasePath()}/accounts`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password\r\n    })\r\n  });\r\n\r\n  if (res.status !== 201) {\r\n    throw new Error();\r\n  }\r\n  const data = await res.json();\r\n  return data;\r\n};\r\n\r\nexport const signIn = async (email, password) => {\r\n  const res = await fetch(`${getBasePath()}/auth`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({\r\n      email,\r\n      password\r\n    })\r\n  });\r\n\r\n  if (res.status !== 201) {\r\n    const error = new Error();\r\n    error.status = res.status;\r\n    throw error;\r\n  }\r\n  const data = await res.json();\r\n  return data;\r\n};\r\n","import './App.css';\nimport React, { useReducer, useCallback } from 'react';\nimport { authReducer, INITIAL_STATE as AUTH_INITIAL } from './Reducers/authReducer';\nimport Authenticate from './Components/Authenticate';\nimport IntegersManager from './Components/IntegersManager';\nimport { signUp, signIn } from './services';\n\nconst App = () => {\n  const [authState, authDispatch] = useReducer(authReducer, AUTH_INITIAL);\n  const onSignUp = useCallback(async (email, password) => {\n    authDispatch('AUTH_REQUEST');\n    try {\n      await signUp(email, password);\n      authDispatch('AUTH_SUCCESS');\n    } catch (err) {\n      authDispatch('AUTH_FAIL');\n    }\n  }, [authDispatch]);\n\n  const onSignIn = useCallback(async (email, password) => {\n    authDispatch('AUTH_REQUEST');\n    try {\n      await signIn(email, password);\n      authDispatch('AUTH_SUCCESS');\n    } catch (err) {\n      authDispatch('AUTH_FAIL');\n    }\n  }, [authDispatch]);\n\n  const { isSignedIn, pending, failed } = authState;\n  return (\n    <div className='App-body'>\n      <p>Let's generate some integers!</p>\n      {!isSignedIn && (\n        <Authenticate\n          onSignUp={onSignUp}\n          onSignIn={onSignIn}\n          isRequestFailed={failed}\n          isRequestPending={pending}\n        />\n      )}\n      {isSignedIn && <IntegersManager />}\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}